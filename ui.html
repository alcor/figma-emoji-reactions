<style>
  body {margin:0px }
  input {
    font-size:20pt; width:100%; height:64px; box-sizing: border-box; padding:8px; }


  .tabs {
    display:flex;
    justify-content: space-between;
    margin: 0 1em;
  }
  .tab {
    width:44px; height:44px;
    content:"x";
    display:inline-block;
  }


  .content {
    display:none;
    border-top:1px solid #eee;
    padding:1em;
  }

.tab {
  background-position: center;
  background-size:32px;
  background-repeat: no-repeat;
}
.tab#sticky { background-image: url("data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cmask id='path-1-inside-1' fill='white'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M32 0H0V32H32V0ZM31 31V16L16 31H31Z'/%3E%3C/mask%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M32 0H0V32H32V0ZM31 31V16L16 31H31Z' fill='%23F3F3F3'/%3E%3Cpath d='M0 0V-1H-1V0H0ZM32 0H33V-1H32V0ZM0 32H-1V33H0V32ZM32 32V33H33V32H32ZM31 16H32V13.5858L30.2929 15.2929L31 16ZM31 31V32H32V31H31ZM16 31L15.2929 30.2929L13.5858 32H16V31ZM0 1H32V-1H0V1ZM1 32V0H-1V32H1ZM32 31H0V33H32V31ZM31 0V32H33V0H31ZM30 16V31H32V16H30ZM16.7071 31.7071L31.7071 16.7071L30.2929 15.2929L15.2929 30.2929L16.7071 31.7071ZM31 30H16V32H31V30Z' fill='black' mask='url(%23path-1-inside-1)'/%3E%3C/svg%3E%0A"); }
.tab#chat { background-image: url("data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16 31.5H0.5V16C0.5 7.43959 7.43959 0.5 16 0.5C24.5604 0.5 31.5 7.43959 31.5 16C31.5 24.5604 24.5604 31.5 16 31.5Z' fill='%23F3F3F3' stroke='black'/%3E%3C/svg%3E%0A"); }
.tab#emoji { background-image: url("data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0.5' y='0.5' width='31' height='31' rx='15.5' fill='%23F3F3F3' stroke='black'/%3E%3Cline x1='12.5' y1='8' x2='12.5' y2='14' stroke='black'/%3E%3Cline x1='19.5' y1='8' x2='19.5' y2='14' stroke='black'/%3E%3C/svg%3E%0A");}
.tab#meme { background-image: url("data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0.5' y='0.5' width='31' height='31' fill='%23F3F3F3' stroke='black'/%3E%3Cline x1='7' y1='7.5' x2='25' y2='7.5' stroke='black'/%3E%3Cline x1='7' y1='26.5' x2='25' y2='26.5' stroke='black'/%3E%3C/svg%3E%0A"); }
.tab#settings {background-image: url("data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M29.3073 20.6262L29.3074 20.6263L29.312 20.6178C29.4459 20.3768 29.5368 20.0975 29.4949 19.8043C29.4513 19.4988 29.2765 19.2646 29.0498 19.0998L26.4646 17.0891C26.4889 16.7957 26.5 16.4306 26.5 16C26.5 15.5694 26.4889 15.2043 26.4646 14.9109L29.0498 12.9002C29.2765 12.7354 29.4513 12.5012 29.4949 12.1957C29.5368 11.9025 29.4459 11.6232 29.312 11.3822L29.3121 11.3821L29.3073 11.3738L26.6216 6.75193C26.6213 6.75139 26.621 6.75084 26.6206 6.7503C26.4867 6.51669 26.2846 6.32646 26.0064 6.24086C25.739 6.15858 25.4653 6.19285 25.2168 6.27566L25.2037 6.28005L25.1908 6.28516L22.1375 7.49494C21.5431 7.06346 20.9199 6.6994 20.268 6.40357L19.8074 3.17929L19.8047 3.16028L19.8006 3.14153C19.7445 2.88926 19.6337 2.6414 19.4282 2.45648C19.2154 2.26494 18.9529 2.1875 18.6875 2.1875H13.3125C13.047 2.1875 12.7845 2.26494 12.5717 2.45648C12.3663 2.6414 12.2554 2.88926 12.1994 3.14153L12.1952 3.16028L12.1925 3.17929L11.7322 6.40103C11.1778 6.6528 10.5563 7.02143 9.87038 7.4981L6.80914 6.28516L6.79624 6.28005L6.78307 6.27566C6.53465 6.19285 6.26096 6.15858 5.99354 6.24086C5.71541 6.32644 5.51329 6.5166 5.37936 6.75015C5.37902 6.75074 5.37868 6.75134 5.37834 6.75193L2.69265 11.3738L2.69257 11.3737L2.68788 11.3822C2.55399 11.6232 2.46309 11.9025 2.50498 12.1957C2.54863 12.5012 2.72342 12.7354 2.95013 12.9002L5.53527 14.9109C5.51101 15.2043 5.49996 15.5694 5.49996 16C5.49996 16.4306 5.51101 16.7957 5.53527 17.0891L2.95011 19.0998C2.72341 19.2646 2.54863 19.4988 2.50498 19.8043C2.46309 20.0975 2.55399 20.3768 2.68788 20.6178L2.6878 20.6179L2.69265 20.6262L5.37834 25.2481C5.37868 25.2487 5.37902 25.2493 5.37936 25.2499C5.51329 25.4834 5.71541 25.6736 5.99354 25.7591C6.26096 25.8414 6.53465 25.8071 6.78307 25.7243L6.79624 25.72L6.80914 25.7148L9.86238 24.5051C10.4568 24.9365 11.08 25.3006 11.7319 25.5964L12.1925 28.8207L12.1952 28.8397L12.1994 28.8585C12.2554 29.1107 12.3663 29.3586 12.5717 29.5435C12.7845 29.7351 13.047 29.8125 13.3125 29.8125H18.6875C18.9529 29.8125 19.2154 29.7351 19.4282 29.5435C19.6337 29.3586 19.7445 29.1107 19.8006 28.8585L19.8047 28.8397L19.8074 28.8207L20.2677 25.599C20.8221 25.3472 21.4436 24.9786 22.1295 24.5019L25.1908 25.7148L25.2037 25.72L25.2168 25.7243C25.4653 25.8071 25.739 25.8414 26.0064 25.7591C26.2846 25.6735 26.4867 25.4833 26.6206 25.2497C26.621 25.2492 26.6213 25.2486 26.6216 25.2481L29.3073 20.6262ZM16 20.1875C14.8414 20.1875 13.8643 19.7822 13.041 18.9589C12.2177 18.1357 11.8125 17.1585 11.8125 16C11.8125 14.8415 12.2177 13.8643 13.041 13.0411C13.8643 12.2178 14.8414 11.8125 16 11.8125C17.1585 11.8125 18.1356 12.2178 18.9589 13.0411C19.7822 13.8643 20.1875 14.8415 20.1875 16C20.1875 17.1585 19.7822 18.1357 18.9589 18.9589C18.1356 19.7822 17.1585 20.1875 16 20.1875Z' fill='%23F3F3F3' stroke='black'/%3E%3C/svg%3E%0A");}


body.emoji #emoji-content.content,
body.chat #message-content.content,
body.sticky #message-content.content,
body.meme #message-content.content,
body.settings #settings-content.content
{ display:block }


body.sticky #message {
background-color:yellow;
}


</style>

<header>
  <div class="tabs">
    <span class="tab" id="emoji" onclick="select(this)"></span>
    <span class="tab" id="chat" onclick="select(this)"></span>
    <span class="tab" id="sticky" onclick="select(this)"></span>
    <span class="tab" id="meme" onclick="select(this)"></span>
    <span class="tab" id="settings" onclick="select(this)"></span>
  </div> 
</header>


<div class="content" id="emoji-content">
  ‚ù§Ô∏èüëç
</div>

<div class="content" id="message-content">
  <input id="message" placeholder="Message Content">
</div>

<div class="content" id="settings-content">
<label for="name">Name:</label> 
<input id="name" placeholder="Your Name">
</div>
                    

<p></p>
<script>
document.body.className = "chat"
function select(i) {
  console.log(i.id);
  document.body.className = i.id;
}

const textbox = document.getElementById('message');
textbox.focus()

textbox.addEventListener("keyup", function(event) {
  if (event.keyCode === 13) {
    console.log(document.body.className)
    event.preventDefault();
    const string = textbox.value;
    switch (document.body.className) {
      case "emoji":
        break;
      case "sticky":
        parent.postMessage({pluginMessage: {type: "add-sticky", content: string}}, '*')
        break; 
      case "meme":
        break;
      default:
        parent.postMessage({ pluginMessage: { type: 'add-reaction', string } }, '*')
    }
  } else if(event.key === "Escape") {
    parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')
  }
});


</script>
